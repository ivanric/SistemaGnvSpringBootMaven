<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>REPORTES GNV</title>
</head>
<body>
    <div class="row">
        <div class="col-md-12 text-center">
            <h2><b>REPORTESS DEL SISTEMA</b></h2>
        </div>
    </div>
    <div class="row" style="">        
        <div class="col-md-4">
            <h5><b>Solicitudes por Fecha</b></h5>   
            <div class="row">
                <div class="col-md-6">
                    <b>Fecha Inicial</b> <input type="date" class="form-control" name="fecha_inicial">  
                </div>
                <div class="col-md-6">
                    <b>Fecha Final</b>   <input type="date" class="form-control" name="fecha_final">  
                </div>
            </div>
            <br>
            <div class="row">
                <div class="col-md-12">
                    <div class="btn-group btn-group-justified" role="group" aria-label="...">
                        <div class="btn-group" role="group">
                            <button type="button" class="btn btn-success waves-effect" id="js_excel_sf"><i class="exportar fa fa-file-excel-o"></i> EXCEL</button>
                        </div>
                        <div class="btn-group" role="group">
                            <button type="button" class="btn btn-danger waves-effect" id="js_pdf_sf"><i class="exportar fa fa-file-pdf-o"></i> PDF</button>
                        </div>
                    </div>
                </div>    
            </div>
        </div>
        <div class="col-md-4">
        </div>
        <div class="col-md-4"></div>
    </div>
    <br>
</body>
<!-- <script type="" src="../static/bower_components/jquery/dist/jquery.js" th:src="@{/bower_components/jquery/dist/jquery.js}"></script> -->

<script  type="text/javascript">
    var tipo;
    // var enlace="../RestResports/solicitudF";
    var enlace="";
    var fecha_inicial="";
    var fecha_final="";
    // $.getJSON('../RestResports/allReport',function(datos){
    //     console.log(datos)
    //     item=datos[0]
    //     $('select[name="reportes"]').append(`<option value="${item.idreport}" accesskey="${item.enlace}" data-id="${item.fechaSiNo}">${item.nombre}</option>`)
    //     $('select[name="reportes"]').chosen()
    //     // $('#select-comb').trigger('chosen:updated');

    // })


    $('#js_pdf_sf').click(function(){
        tipo="pdf"
        // window.location.href="/RestResports/listar"
        enviar_SF();
    })
    $('#js_excel_sf').click(function(){
        tipo="xls"
        enviar_SF();
    })

    function enviar_SF(){
        // alert(tipo)
        enlace="RestResports/solicitudF";
        fecha_inicial=$('input[name="fecha_inicial"]').val()
        fecha_final=$('input[name="fecha_final"]').val()
        console.log('fecha_inicial:',fecha_inicial,' fecha_final:',fecha_final)

        if( enlace!=""){
            console.log('e:',enlace)
            if(tipo=="pdf"){
               $("#frameReportes").attr("src",enlace+'?tipo='+tipo+'&fecha_inicial='+fecha_inicial+'&fecha_final='+fecha_final);
               $("#reportes").modal('show'); 
            }else{
                $("#frameReportes").attr("src",enlace+'?tipo='+tipo+'&fecha_inicial='+fecha_inicial+'&fecha_final='+fecha_final);
            }
        }
    }
</script>
</html>